---
title: 网站启用 CDN
date: 2018-07-24 18:52:10
tags:
    - 网站

---  
Hooray！重大进展：本网站所有下所有子域均已配置 CDN 。  
## 什么是 CDN  
CDN (**C**ontent **D**elivery **N**etwork) 是指内容分发网络，简单而言就是将内容分散地存储在许多服务器上，允许用户就近（而不是都向源服务器）获取内容。  
用一个比喻而解释：某个同学有一份作业要分发给其他同学。在不允许提前复印以免被浪费的前提下，该同学的策略是：每来一个同学，就给他复印一份。那么，如果一下来了很多人，他很有可能复印不过来了。  
有没有更聪明的办法呢？那就是他先复印几份给几个同学，再由他们复印给各自的朋友。这样，文件传输的效率增加了很多，他的负担也减少了。  
同时，如果他分发的不是作业，而且泄露的题目，后面的做法则更利于他分摊责任，防止老师追查到他。  
## CDN 的好处  
由此，使用 CDN 能带来以下好处：  
1. 加快网站访问速度  
2. 减少服务器的压力和资源消耗  
3. 在网络中隐藏自己的真实 IP 以免被攻击  
## 本站的 CDN 是如何部署的  
本站采用的是分线路 CDN，国内使用的是腾讯云的 CDN；国外采用的是 Cloudflare 的 CDN。在部署过程中出现了许多的“麻烦事”，比如 SSL 证书的验证；从 www 域到裸域的跳转。在聪明的我的不懈努力下，本站最终完整支持了 CDN，使得本网站在全球范围内都有良好的访问速度。  
## 接下来做什么  
* 选择一个好图床（目前计划使用腾讯云的 COS，加上 Cloudflare 的缓存）  
* 尽快将 Fiction 和 Blog 两个网站内容准备好并上线  
* 制作 ```404.html``` 等错误文件  
* 配置好 Wiki 站并静态化